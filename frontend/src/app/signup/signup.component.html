<main>
  <div class="container">
    <div class="row mt-5 pt-5">
      <div class="col text-center">
        <h5>Welcome to Spotify. Register and Listen Musics.</h5><hr>
      </div>
    </div>
    <div class="row">
      <div class="col-lg-4"></div>
      <div class="col-lg-4">
        <mat-card id="card">
          <mat-card-title class="text-center">
            Sign Up
            <hr>
          </mat-card-title>
          <mat-card-content>
            <form [formGroup]="registerForm">
              <mat-form-field>
                <input
                  matInput 
                  placeholder="Full Name"
                  formControlName="username"
                >
                <mat-icon matSuffix>perm_identity</mat-icon>
                <mat-error *ngIf="registerForm.get('username').invalid && registerForm.get('username').touched">
                  Name is required
                </mat-error>
              </mat-form-field>
              <mat-form-field>
                <input
                  matInput 
                  placeholder="Email"
                  formControlName="email"
                  >
                <mat-icon matSuffix>email</mat-icon>
                <mat-error *ngIf="(registerForm.get('email').invalid && registerForm.get('email').touched) || registerForm.get('email').dirty">
                  <mat-error *ngIf="registerForm.get('email').errors?.required">
                    Email is required
                  </mat-error>
                  <mat-error *ngIf="registerForm.get('email').errors?.pattern">
                    Invalid Email
                  </mat-error>
                </mat-error>
              </mat-form-field>
              <mat-form-field>
                <input
                  matInput 
                  placeholder="Password"
                  type="password"
                  formControlName="password"
                  >
                <mat-icon matSuffix>lock</mat-icon>
                <mat-error *ngIf="(registerForm.get('password').invalid && registerForm.get('password').touched) || registerForm.get('password').dirty">
                  <mat-error *ngIf="registerForm.get('password').errors?.required">
                    Password is required
                  </mat-error>
                  <mat-error *ngIf="registerForm.get('password').errors?.minlength">
                    Password length must be atleast of 6 characters long.
                  </mat-error>
                </mat-error>
              </mat-form-field>
              <mat-form-field>
                <input
                  matInput 
                  placeholder="Confirm Password"
                  type="password"
                  formControlName="cpass"
                  >
                <mat-icon matSuffix>lock</mat-icon>
                <mat-error *ngIf="(registerForm.get('cpass').invalid && registerForm.get('cpass').touched) || registerForm.get('email').dirty">
                  <mat-error *ngIf="registerForm.get('cpass').invalid">
                    Password and Confirm password should match.
                  </mat-error>
                </mat-error>
              </mat-form-field>
              <button
                type="submit"
                mat-raised-button
                class="cyan signup-button"
                (click)="register()"
                >Sign Up
              </button>
            </form>
          </mat-card-content>
        </mat-card>
      </div>
    </div>
  </div>
</main>